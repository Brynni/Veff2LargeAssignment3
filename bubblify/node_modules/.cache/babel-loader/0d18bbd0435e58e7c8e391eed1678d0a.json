{"ast":null,"code":"var _jsxFileName = \"/Users/vessib/Desktop/Veff2LargeAssignment3/bubblify/src/components/ReviewOrder/index.js\";\nimport React from 'react';\nimport BubbleCartList from './../BubbleCartList';\nimport { Redirect } from 'react-router-dom';\nimport OrderConfirmed from './OrderConfirmed';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ReviewOrder extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      redirect: false,\n      bubbles: [],\n      userInfo: null\n    };\n\n    this.handleConfirmation = e => {\n      e.preventDefault();\n      return fetch('http://localhost:3500/api/orders/' + this.state.userInfo.phoneNumber, {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userInfo: this.state.userInfo,\n          orderInfo: JSON.parse(localStorage.getItem(\"shoppingCart\"))\n        })\n      }).then(res => {\n        localStorage.removeItem('shoppingCart');\n        localStorage.setItem('userInfo', JSON.stringify(this.state.userInfo));\n        this.setState({\n          redirect: true\n        });\n        return res.ok;\n      }); //.catch(err) => console.log(err));\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: false\n    });\n    this.setState({\n      redirect: false\n    });\n    this.state.userInfo = this.props.location.state.fields;\n  }\n\n  render() {\n    const bubbles = JSON.parse(localStorage.getItem('shoppingCart'));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this) : this.state.redirect ? /*#__PURE__*/_jsxDEV(OrderConfirmed, {\n        state: this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Review Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-success\",\n            onClick: this.handleConfirmation,\n            children: \"Confirm Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(BubbleCartList, {\n          bubbles: bubbles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n} //onClick= { ()=> this.setState({redirect: true }) }>Confirm Order","map":{"version":3,"sources":["/Users/vessib/Desktop/Veff2LargeAssignment3/bubblify/src/components/ReviewOrder/index.js"],"names":["React","BubbleCartList","Redirect","OrderConfirmed","ReviewOrder","Component","state","loading","redirect","bubbles","userInfo","handleConfirmation","e","preventDefault","fetch","phoneNumber","method","headers","body","JSON","stringify","orderInfo","parse","localStorage","getItem","then","res","removeItem","setItem","setState","ok","componentDidMount","props","location","fields","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,eAAe,MAAMC,WAAN,SAA0BJ,KAAK,CAACK,SAAhC,CAA0C;AAAA;AAAA;AAAA,SACrDC,KADqD,GAC7C;AACJC,MAAAA,OAAO,EAAE,IADL;AAEJC,MAAAA,QAAQ,EAAE,KAFN;AAGJC,MAAAA,OAAO,EAAE,EAHL;AAIJC,MAAAA,QAAQ,EAAE;AAJN,KAD6C;;AAAA,SAcrDC,kBAdqD,GAc/BC,CAAD,IAAO;AACxBA,MAAAA,CAAC,CAACC,cAAF;AAEA,aAAOC,KAAK,CAAC,sCAAsC,KAAKR,KAAL,CAAWI,QAAX,CAAoBK,WAA3D,EAAwE;AAChFC,QAAAA,MAAM,EAAE,MADwE;AAEhFC,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX,SAFuE;AAQhFC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACV,UAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWI,QAAtB;AAAgCW,UAAAA,SAAS,EAAEF,IAAI,CAACG,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX;AAA3C,SAAf;AAR0E,OAAxE,CAAL,CAUNC,IAVM,CAUDC,GAAG,IAAI;AACTH,QAAAA,YAAY,CAACI,UAAb,CAAwB,cAAxB;AACAJ,QAAAA,YAAY,CAACK,OAAb,CAAqB,UAArB,EAAiCT,IAAI,CAACC,SAAL,CAAe,KAAKd,KAAL,CAAWI,QAA1B,CAAjC;AACA,aAAKmB,QAAL,CAAc;AAAErB,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACA,eAAOkB,GAAG,CAACI,EAAX;AACF,OAfK,CAAP,CAHwB,CAmBxB;AAEH,KAnCoD;AAAA;;AAQ9B,QAAjBC,iBAAiB,GAAG;AACtB,SAAKF,QAAL,CAAc;AAACtB,MAAAA,OAAO,EAAE;AAAV,KAAd;AACA,SAAKsB,QAAL,CAAc;AAACrB,MAAAA,QAAQ,EAAE;AAAX,KAAd;AACA,SAAKF,KAAL,CAAWI,QAAX,GAAsB,KAAKsB,KAAL,CAAWC,QAAX,CAAoB3B,KAApB,CAA0B4B,MAAhD;AACH;;AAyBDC,EAAAA,MAAM,GAAG;AACL,UAAM1B,OAAO,GAAGU,IAAI,CAACG,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAAhB;AACA,wBACI;AAAA,gBACK,KAAKlB,KAAL,CAAWC,OAAX,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,GAGO,KAAKD,KAAL,CAAWE,QAAX,gBACA,QAAC,cAAD;AAAgB,QAAA,KAAK,EAAE,KAAKF;AAA5B;AAAA;AAAA;AAAA;AAAA,cADA,gBAIJ;AAAA,gCACI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AACI,YAAA,IAAI,EAAC,QADT;AAEI,YAAA,SAAS,EAAC,iBAFd;AAGI,YAAA,OAAO,EAAG,KAAKK,kBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAWI,QAAC,cAAD;AACI,UAAA,OAAO,EAAKF;AADhB;AAAA;AAAA;AAAA;AAAA,gBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARR;AAAA;AAAA;AAAA;AAAA,YADJ;AAyBH;;AAhEoD,C,CAoEzD","sourcesContent":["import React from 'react';\nimport BubbleCartList from './../BubbleCartList';\nimport { Redirect } from 'react-router-dom'\nimport OrderConfirmed from './OrderConfirmed';\n\nexport default class ReviewOrder extends React.Component {\n    state = {\n        loading: true,\n        redirect: false,\n        bubbles: [],\n        userInfo: null\n    };\n\n    async componentDidMount() {\n        this.setState({loading: false });\n        this.setState({redirect: false });\n        this.state.userInfo = this.props.location.state.fields;\n    };\n    \n    handleConfirmation = (e) => {\n        e.preventDefault();\n\n        return fetch('http://localhost:3500/api/orders/' + this.state.userInfo.phoneNumber, {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n\n            \n            body: JSON.stringify({userInfo: this.state.userInfo, orderInfo: JSON.parse(localStorage.getItem(\"shoppingCart\"))})\n        })\n        .then(res => { \n            localStorage.removeItem('shoppingCart'); \n            localStorage.setItem('userInfo', JSON.stringify(this.state.userInfo))\n            this.setState({ redirect: true });\n            return res.ok;\n         })\n        //.catch(err) => console.log(err));\n        \n    }\n\n    render() {\n        const bubbles = JSON.parse(localStorage.getItem('shoppingCart'));\n        return (\n            <div>\n                {this.state.loading ? \n                    <div>loading</div> \n                    : (\n                        this.state.redirect ? \n                        <OrderConfirmed state={this.state} />\n                        :\n                    \n                    <div>\n                        <div>\n                            <h1>Review Order</h1>\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-success\"\n                                onClick= {this.handleConfirmation}>Confirm Order\n                                \n                            </button>\n                        </div>\n                        \n                        <BubbleCartList \n                            bubbles = { bubbles } />    \n                    </div>)}\n            </div>\n        );\n    };\n}\n\n\n//onClick= { ()=> this.setState({redirect: true }) }>Confirm Order"]},"metadata":{},"sourceType":"module"}