{"ast":null,"code":"export function cartPrompt(bubbleName) {\n  if (window.confirm(`${bubbleName} has been added to cart! Proceed to checkout?!`)) {\n    this.setState({\n      redirect: true\n    });\n  }\n}\n;\nexport function addItemToCart(id) {\n  let shoppingCart = localStorage.getItem('shoppingCart');\n  let myBubbles = this.state.bubbles.filter(n => n.id === id);\n  myBubbles[0].quantity = 1;\n  console.log(myBubbles);\n  let stringifiedBubbles = JSON.stringify(myBubbles);\n\n  if (shoppingCart === null) {\n    localStorage.setItem('shoppingCart', stringifiedBubbles);\n  } else {\n    let shoppingCartObject = JSON.parse(shoppingCart);\n    let itemFound = false;\n\n    for (let key in shoppingCartObject) {\n      if (shoppingCartObject[key].id === id) {\n        shoppingCartObject[key].quantity++;\n        itemFound = true;\n      }\n    }\n\n    if (itemFound === false) {\n      shoppingCartObject.push(myBubbles[0]);\n    }\n\n    localStorage.setItem('shoppingCart', JSON.stringify(shoppingCartObject));\n  }\n\n  this.cartPrompt(myBubbles[0].name);\n}\n;","map":{"version":3,"sources":["/Users/vessib/Desktop/Veff2LargeAssignment3/bubblify/src/services/cartService/index.js"],"names":["cartPrompt","bubbleName","window","confirm","setState","redirect","addItemToCart","id","shoppingCart","localStorage","getItem","myBubbles","state","bubbles","filter","n","quantity","console","log","stringifiedBubbles","JSON","stringify","setItem","shoppingCartObject","parse","itemFound","key","push","name"],"mappings":"AAAA,OAAO,SAASA,UAAT,CAAoBC,UAApB,EAAgC;AACnC,MAAIC,MAAM,CAACC,OAAP,CAAgB,GAAEF,UAAW,gDAA7B,CAAJ,EAAmF;AAC/E,SAAKG,QAAL,CAAc;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAd;AACH;AACJ;AAAA;AAED,OAAO,SAASC,aAAT,CAAuBC,EAAvB,EAA2B;AAC9B,MAAIC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAnB;AACA,MAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,MAAnB,CAA0BC,CAAC,IAAIA,CAAC,CAACR,EAAF,KAASA,EAAxC,CAAhB;AACAI,EAAAA,SAAS,CAAC,CAAD,CAAT,CAAaK,QAAb,GAAwB,CAAxB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,SAAZ;AACA,MAAIQ,kBAAkB,GAAIC,IAAI,CAACC,SAAL,CAAeV,SAAf,CAA1B;;AACA,MAAIH,YAAY,KAAK,IAArB,EACA;AACIC,IAAAA,YAAY,CAACa,OAAb,CAAqB,cAArB,EAAqCH,kBAArC;AACH,GAHD,MAIK;AACD,QAAII,kBAAkB,GAAGH,IAAI,CAACI,KAAL,CAAWhB,YAAX,CAAzB;AACA,QAAIiB,SAAS,GAAG,KAAhB;;AACA,SAAK,IAAIC,GAAT,IAAgBH,kBAAhB,EAAoC;AAChC,UAAIA,kBAAkB,CAACG,GAAD,CAAlB,CAAwBnB,EAAxB,KAA+BA,EAAnC,EACA;AACIgB,QAAAA,kBAAkB,CAACG,GAAD,CAAlB,CAAwBV,QAAxB;AACAS,QAAAA,SAAS,GAAG,IAAZ;AACH;AACJ;;AACD,QAAIA,SAAS,KAAK,KAAlB,EAAwB;AACpBF,MAAAA,kBAAkB,CAACI,IAAnB,CAAwBhB,SAAS,CAAC,CAAD,CAAjC;AACH;;AACDF,IAAAA,YAAY,CAACa,OAAb,CAAqB,cAArB,EAAqCF,IAAI,CAACC,SAAL,CAAeE,kBAAf,CAArC;AAIH;;AACD,OAAKvB,UAAL,CAAgBW,SAAS,CAAC,CAAD,CAAT,CAAaiB,IAA7B;AACD;AAAA","sourcesContent":["export function cartPrompt(bubbleName) {\n    if (window.confirm(`${bubbleName} has been added to cart! Proceed to checkout?!`)) {\n        this.setState({redirect: true });\n    } \n};\n\nexport function addItemToCart(id) {\n    let shoppingCart = localStorage.getItem('shoppingCart');\n    let myBubbles = this.state.bubbles.filter(n => n.id === id);\n    myBubbles[0].quantity = 1;\n    console.log(myBubbles);\n    let stringifiedBubbles =  JSON.stringify(myBubbles);\n    if (shoppingCart === null)\n    {\n        localStorage.setItem('shoppingCart', stringifiedBubbles);\n    }\n    else {\n        let shoppingCartObject = JSON.parse(shoppingCart);\n        let itemFound = false;\n        for (let key in shoppingCartObject) {\n            if (shoppingCartObject[key].id === id)\n            {\n                shoppingCartObject[key].quantity++;\n                itemFound = true; \n            }\n        }\n        if (itemFound === false){\n            shoppingCartObject.push(myBubbles[0]);\n        }\n        localStorage.setItem('shoppingCart', JSON.stringify(shoppingCartObject));\n\n\n        \n    }\n    this.cartPrompt(myBubbles[0].name);\n  };\n"]},"metadata":{},"sourceType":"module"}