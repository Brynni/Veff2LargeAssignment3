{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Notandi\\\\OneDrive\\\\Desktop\\\\Veff2LargeAssignment3\\\\bubblify\\\\src\\\\components\\\\BundleItemDetails\\\\index.js\";\nimport React from 'react';\nimport { getBubbles, getSingleBundle } from '';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BundleItemDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      bundle: {}\n    };\n  }\n\n  async componentDidMount() {\n    const bundleId = this.props.match.params.bundleItemId;\n    const url = `http://localhost:3500/api/bundles/${bundleId}`;\n    const response = await fetch(url);\n    const bundles = await response.json();\n    const bubbleRe = await fetch(\"http://localhost:3500/api/bubbles/\");\n    const bubbles = await bubbleRe.json();\n    console.log(bundles);\n    const bundleGroup = {};\n\n    for (let i = 0; i < bundles.length; i++) {\n      const currentBundle = bundles[i];\n      const id = currentBundle.id;\n      bundleGroup[currentBundle.id] = { ...currentBundle,\n        bubbles: []\n      };\n\n      for (let j = 0; j < bundles[i].items.length; j++) {\n        let num = bundles[i].items[j] - 1;\n        bundleGroup[id].bubbles.push(bubbles[num]);\n      }\n    }\n\n    this.setState({\n      bundle: bundleGroup\n    });\n    console.log(this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-body bg-light bubble\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"bubble-name text-primary\",\n          children: \"loaded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default BundleItemDetails;","map":{"version":3,"sources":["C:/Users/Notandi/OneDrive/Desktop/Veff2LargeAssignment3/bubblify/src/components/BundleItemDetails/index.js"],"names":["React","getBubbles","getSingleBundle","BundleItemDetails","Component","state","loading","bundle","componentDidMount","bundleId","props","match","params","bundleItemId","url","response","fetch","bundles","json","bubbleRe","bubbles","console","log","bundleGroup","i","length","currentBundle","id","j","items","num","push","setState","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,eAArB,QAA4C,EAA5C;;;AAEA,MAAMC,iBAAN,SAAgCH,KAAK,CAACI,SAAtC,CAAgD;AAAA;AAAA;AAAA,SAC5CC,KAD4C,GACpC;AACJC,MAAAA,OAAO,EAAE,IADL;AAEJC,MAAAA,MAAM,EAAE;AAFJ,KADoC;AAAA;;AAMrB,QAAjBC,iBAAiB,GAAG;AACtB,UAAMC,QAAQ,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,YAAzC;AACA,UAAMC,GAAG,GAAI,qCAAoCL,QAAS,EAA1D;AACA,UAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,UAAMG,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;AACA,UAAMC,QAAQ,GAAG,MAAMH,KAAK,CAAC,oCAAD,CAA5B;AACA,UAAMI,OAAO,GAAG,MAAMD,QAAQ,CAACD,IAAT,EAAtB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AACA,UAAMM,WAAW,GAAG,EAApB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAACP,OAAO,CAACQ,MAA1B,EAAkCD,CAAC,EAAnC,EAAsC;AAClC,YAAME,aAAa,GAAGT,OAAO,CAACO,CAAD,CAA7B;AACA,YAAMG,EAAE,GAAGD,aAAa,CAACC,EAAzB;AACAJ,MAAAA,WAAW,CAACG,aAAa,CAACC,EAAf,CAAX,GAA+B,EAC3B,GAAGD,aADwB;AAE3BN,QAAAA,OAAO,EAAE;AAFkB,OAA/B;;AAIA,WAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,OAAO,CAACO,CAAD,CAAP,CAAWK,KAAX,CAAiBJ,MAArC,EAA6CG,CAAC,EAA9C,EAAiD;AAC7C,YAAIE,GAAG,GAAGb,OAAO,CAACO,CAAD,CAAP,CAAWK,KAAX,CAAiBD,CAAjB,IAAoB,CAA9B;AACAL,QAAAA,WAAW,CAACI,EAAD,CAAX,CAAgBP,OAAhB,CAAwBW,IAAxB,CAA6BX,OAAO,CAACU,GAAD,CAApC;AACH;AACJ;;AAED,SAAKE,QAAL,CAAe;AAACzB,MAAAA,MAAM,EAAEgB;AAAT,KAAf;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAjB;AAIH;;AAED4B,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,gBACK,KAAK5B,KAAL,CAAWC,OAAX,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,gBAEK;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA,+BACF;AAAI,UAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADE;AAAA;AAAA;AAAA;AAAA;AAHV;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;;AA7C2C;;AA8C/C;AAED,eAAeH,iBAAf","sourcesContent":["import React from 'react';\r\nimport { getBubbles, getSingleBundle } from ''\r\n\r\nclass BundleItemDetails extends React.Component {\r\n    state = {\r\n        loading: true,\r\n        bundle: {},\r\n    };\r\n    \r\n    async componentDidMount() {\r\n        const bundleId = this.props.match.params.bundleItemId;\r\n        const url = `http://localhost:3500/api/bundles/${bundleId}`; \r\n        const response = await fetch(url);\r\n        const bundles = await response.json()\r\n        const bubbleRe = await fetch(\"http://localhost:3500/api/bubbles/\");\r\n        const bubbles = await bubbleRe.json();\r\n        console.log(bundles);\r\n        const bundleGroup = {};\r\n        for (let i = 0; i<bundles.length; i++){\r\n            const currentBundle = bundles[i];\r\n            const id = currentBundle.id;\r\n            bundleGroup[currentBundle.id] ={\r\n                ...currentBundle,\r\n                bubbles: [],\r\n            }\r\n            for (let j = 0; j < bundles[i].items.length; j++){\r\n                let num = bundles[i].items[j]-1;\r\n                bundleGroup[id].bubbles.push(bubbles[num]);\r\n            }\r\n        }\r\n\r\n        this.setState( {bundle: bundleGroup});\r\n        console.log(this.state);\r\n        \r\n        \r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.loading ? \r\n                    <div>loading</div> \r\n                    : <div className=\"card card-body bg-light bubble\">\r\n                    <h3 className=\"bubble-name text-primary\">loaded</h3>\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default BundleItemDetails;"]},"metadata":{},"sourceType":"module"}